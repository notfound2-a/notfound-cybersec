<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>404 CYBERSEC Hacker Terminal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------------- GLOBAL STYLE ---------------- */
body {
    margin: 0;
    background: #000;
    overflow: hidden;
    font-family: "Courier New", monospace;
}

/* ---------------- MATRIX RAIN ---------------- */
canvas#matrix {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
}

/* ---------------- TERMINAL WRAPPER ---------------- */
#terminal-wrap {
    position: relative;
    z-index: 2;
    width: 90%;
    height: 90vh;
    margin: 30px auto;
    padding: 15px;
    background: rgba(0,0,0,0.75);
    border: 2px solid #00eaff;
    box-shadow: 0 0 25px #00eaff, inset 0 0 30px #0088aa;
    border-radius: 10px;
    overflow-y: auto;
    color: #0ff;
    font-size: 18px;
}

/* ---------------- BLINKING CURSOR ---------------- */
.cursor {
    display: inline-block;
    width: 10px;
    height: 18px;
    background: #00f2ff;
    animation: blink 0.6s infinite;
}
@keyframes blink { 0%,100% {opacity:1} 50%{opacity:0} }

/* ---------------- NEW TERMINAL BUTTON ---------------- */
#newTerm {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 8px 18px;
    background: #00eaff;
    color: #000;
    font-weight: bold;
    border-radius: 6px;
    cursor: pointer;
    z-index: 3;
    box-shadow: 0 0 15px #00eaff;
}
#newTerm:hover {
    box-shadow: 0 0 25px #00ffff;
}
</style>
</head>
<body>

<canvas id="matrix"></canvas>

<div id="newTerm">NEW TERMINAL</div>

<div id="terminal-wrap"></div>

<audio id="typeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-typewriter-soft-hit-1125.mp3"></audio>

<script>
/* ==========================================================
   MATRIX RAIN EFFECT
========================================================== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");
canvas.height = window.innerHeight;
canvas.width = window.innerWidth;

const chars = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ";
const drops = Array(Math.floor(canvas.width / 15)).fill(1);

function matrixRain() {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#00eaff";
    ctx.font = "15px Courier";

    drops.forEach((y, i) => {
        const text = chars[Math.floor(Math.random() * chars.length)];
        ctx.fillText(text, i * 15, y * 15);
        drops[i] = y * 15 > canvas.height && Math.random() > 0.975 ? 0 : y + 1;
    });
}
setInterval(matrixRain, 40);

/* ==========================================================
   TERMINAL ENGINE
========================================================== */
const terminal = document.getElementById("terminal-wrap");
const audio = document.getElementById("typeSound");

let input = "";

function playSound() {
    audio.currentTime = 0;
    audio.play();
}

function print(text, delay = 5) {
    return new Promise(resolve => {
        let i = 0;
        function typing() {
            if (i < text.length) {
                terminal.innerHTML += text[i];
                playSound();
                i++;
                setTimeout(typing, delay);
            } else resolve();
        }
        typing();
    });
}

function newLine() {
    terminal.innerHTML += "\n> ";
    createCursor();
    terminal.scrollTop = terminal.scrollHeight;
}

function createCursor() {
    const old = document.querySelector(".cursor");
    if (old) old.remove();
    const c = document.createElement("span");
    c.classList.add("cursor");
    terminal.appendChild(c);
}

/* ==========================================================
   BOOT SEQUENCE
========================================================== */
async function boot() {
    terminal.innerHTML = "";
    await print("BOOTING 404 CYBERSEC TERMINAL...\n", 20);
    await print("Loading kernel modules...\n", 15);
    await print("Initializing matrix engine...\n", 10);
    await print("Ready.\n\n");
    await print("Ketik 'help' untuk daftar perintah.\n\n");
    newLine();
}

/* ==========================================================
   COMMAND EXECUTION
========================================================== */
async function commandProcessor(cmd) {
    cmd = cmd.trim();

    if (!cmd) return newLine();

    terminal.innerHTML += "\n";

    if (cmd === "help") {
        await print(
`Perintah Tersedia:
  help               → Menampilkan perintah
  scan <domain>      → Full vulnerability scan
  dns <domain>       → DNS lookup
  whois <domain>     → WHOIS data
  ssl <domain>       → Cek SSL
  clear              → Bersihkan layar
`);
    }

    else if (cmd === "clear") {
        terminal.innerHTML = "";
        return newLine();
    }

   else if (cmd.startsWith("scan ")) {
    let d = cmd.split(" ")[1];

    await print(`\n[ SCAN STARTED ] Target: ${d}\n`, 10);
    await print("----------------------------------------------------\n", 1);

    // Fake timer
    await print("Initializing scanner engine...\n", 20);
    await print("Loading modules: XSS, SQLi, RCE, SSL, Headers...\n\n", 10);

    // Results
    const modules = [
        ["XSS Detection", "OK"],
        ["SQL Injection", "OK"],
        ["Command Injection", "OK"],
        ["Directory Traversal", "OK"],
        ["Open Redirect", "WARNING"],
        ["Security Headers", "CRITICAL"],
        ["SSL Certificate", "OK"],
        ["Mixed Content", "OK"],
        ["CSP Policy", "WARNING"],
        ["Deprecated Protocols", "OK"]
    ];

    for (let m of modules) {
        let name = m[0];
        let status = m[1];
        let icon = status === "OK" ? "[✓]" :
                   status === "WARNING" ? "[!]" :
                   "[X]";
        await print(`${icon} ${name} → ${status}\n`, 15);
    }

    await print("\nAnalyzing vulnerabilities...\n", 20);

    await print("Possible Issues:\n", 10);
    await print("  • Missing Content-Security-Policy header\n", 5);
    await print("  • Missing X-Frame-Options\n", 5);
    await print("  • Open Redirect behavior detected\n\n", 5);

    await print("Fake CVE Simulation:\n", 5);
    await print("  - CVE-20XX-1122  → No risk\n", 5);
    await print("  - CVE-20XX-9001  → Medium risk\n", 5);
    await print("  - CVE-20XX-5532  → Not applicable\n\n", 5);

    await print("Generating security score...\n", 20);

    await print("\n[ FINAL SECURITY SCORE ]\n", 10);
    await print("  → 73 / 100 (Medium Risk)\n", 20);

    await print("\nScan selesai.\n");
    await print("Gunakan perintah: headers, dns, whois, ssl\n");
}


    else if (cmd.startsWith("dns ")) {
        await print("DNS Lookup...\nA Record: 192.168.1.11\nMX: mail.example.com\n");
    }

    else if (cmd.startsWith("whois ")) {
        await print("WHOIS Data...\nRegistrar: Cloudflare\nCountry: US\n");
    }

    else if (cmd.startsWith("ssl ")) {
        await print("SSL Certificate...\nIssuer: Let's Encrypt\nStatus: VALID\n");
    }

    else {
        await print("Perintah tidak dikenal.\n");
    }

    newLine();
}

/* ==========================================================
   KEYBOARD INPUT
========================================================== */
document.addEventListener("keydown", e => {
    const cursor = document.querySelector(".cursor");
    cursor.remove();

    if (e.key === "Enter") {
        terminal.innerHTML += "\n";
        commandProcessor(input);
        input = "";
    }
    else if (e.key === "Backspace") {
        input = input.slice(0, -1);
        terminal.innerHTML = terminal.innerHTML.slice(0, -1);
    }
    else if (e.key.length === 1) {
        input += e.key;
        terminal.innerHTML += e.key;
        playSound();
    }
    createCursor();
    terminal.scrollTop = terminal.scrollHeight;
});

/* ==========================================================
   NEW TERMINAL
========================================================== */
document.getElementById("newTerm").onclick = () => boot();

boot();
</script>

</body>
</html>
