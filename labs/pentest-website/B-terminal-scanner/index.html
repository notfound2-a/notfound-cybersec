<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>404 CYBERSEC Hacker Terminal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------------- GLOBAL STYLE ---------------- */
body {
    margin: 0;
    background: #000;
    overflow: hidden;
    font-family: "Courier New", monospace;
}

/* ---------------- MATRIX RAIN ---------------- */
canvas#matrix {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
}

/* ---------------- TERMINAL WRAPPER ---------------- */
#terminal-wrap {
    position: relative;
    z-index: 2;
    width: 90%;
    max-width: 900px;
    height: 80vh;
    margin: 30px auto;
    padding: 15px;
    background: rgba(0,0,0,0.75);
    border: 2px solid #00eaff;
    box-shadow: 0 0 25px #00eaff, inset 0 0 30px #0088aa;
    border-radius: 10px;
    overflow-y: auto;
    color: #0ff;
    font-size: 16px;
    white-space: pre-wrap;
    word-break: break-word;
}

/* ---------------- BLINKING CURSOR ---------------- */
.cursor {
    display: inline-block;
    width: 10px;
    height: 18px;
    background: #00f2ff;
    animation: blink 0.6s infinite;
}
@keyframes blink { 0%,100% {opacity:1} 50%{opacity:0} }

/* ---------------- NEW TERMINAL BUTTON ---------------- */
#newTerm {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 8px 18px;
    background: #00eaff;
    color: #000;
    font-weight: bold;
    border-radius: 6px;
    cursor: pointer;
    z-index: 3;
    box-shadow: 0 0 15px #00eaff;
}
#newTerm:hover {
    box-shadow: 0 0 25px #00ffff;
}

/* ---------------- SCAN TABLE ---------------- */
.scan-table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 8px;
}
.scan-table th, .scan-table td {
    border: 1px solid #0ff;
    padding: 4px 8px;
    text-align: left;
}
.scan-ok { color: #0f0; }
.scan-warning { color: #ff0; }
.scan-critical { color: #f00; }
</style>
</head>
<body>

<canvas id="matrix"></canvas>
<div id="newTerm">NEW TERMINAL</div>
<div id="terminal-wrap"></div>
<audio id="typeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-typewriter-soft-hit-1125.mp3"></audio>

<script>
/* ==========================================================
   MATRIX RAIN EFFECT
========================================================== */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");
canvas.height = window.innerHeight;
canvas.width = window.innerWidth;

const chars = "01ABCDEFGHIJKLMNOPQRSTUVWXYZ";
const drops = Array(Math.floor(canvas.width / 15)).fill(1);

function matrixRain() {
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#00eaff";
    ctx.font = "15px Courier";
    drops.forEach((y, i) => {
        const text = chars[Math.floor(Math.random() * chars.length)];
        ctx.fillText(text, i * 15, y * 15);
        drops[i] = y * 15 > canvas.height && Math.random() > 0.975 ? 0 : y + 1;
    });
}
setInterval(matrixRain, 40);

/* ==========================================================
   TERMINAL ENGINE
========================================================== */
const terminal = document.getElementById("terminal-wrap");
const audio = document.getElementById("typeSound");
let input = "";

// play type sound
function playSound() {
    audio.currentTime = 0;
    audio.play();
}

// print text character by character
async function print(text, delay = 5) {
    return new Promise(resolve => {
        let i = 0;
        function typing() {
            if (i < text.length) {
                terminal.innerHTML += text[i];
                playSound();
                i++;
                setTimeout(typing, delay);
            } else resolve();
        }
        typing();
    });
}

// new line prompt
function newLine() {
    terminal.innerHTML += "> ";
    createCursor();
    terminal.scrollTop = terminal.scrollHeight;
}

// create blinking cursor
function createCursor() {
    const old = document.querySelector(".cursor");
    if (old) old.remove();
    const c = document.createElement("span");
    c.classList.add("cursor");
    terminal.appendChild(c);
}

/* ==========================================================
   BOOT SEQUENCE
========================================================== */
async function boot() {
    terminal.innerHTML = "";
    await print("BOOTING 404 CYBERSEC TERMINAL...\n", 20);
    await print("Loading kernel modules...\n", 15);
    await print("Initializing matrix engine...\n", 10);
    await print("Ready.\n\n");
    await print("Ketik 'help' untuk melihat menu advanced OSINT.\n");
    newLine();
}

/* ==========================================================
   COMMAND PROCESSOR (ADVANCED OSINT)
========================================================== */
async function commandProcessor(cmd) {
    cmd = cmd.trim();
    if (!cmd) return newLine();
    terminal.innerHTML += "\n";

    if (cmd === "help") {
        await print(
`Perintah Tersedia:
  help               → Menampilkan perintah
  scan <domain>      → Full vulnerability scan
  dns <domain>       → DNS lookup
  whois <domain>     → WHOIS data
  ssl <domain>       → Cek SSL
  headers <domain>   → Cek headers
  asn <ip>           → ASN lookup
  geolocate <ip>     → GeoIP lookup
  reverse-ip <ip>    → Reverse IP lookup
  scan-ports <ip>    → Safe port scan
  fingerprint <host> → TLS fingerprint
  md5 <hash>         → MD5 Lookup
  ocr <url>          → OCR image/PDF extractor
  clear              → Bersihkan layar
`);
    } else if (cmd === "clear") {
        terminal.innerHTML = "";
        return newLine();
    } else if (cmd.startsWith("scan ")) {
        const d = cmd.split(" ")[1];
        return runScan(d);
    } else if (cmd.startsWith("dns ")) {
        const d = cmd.split(" ")[1];
        return runDNS(d);
    } else if (cmd.startsWith("whois ")) {
        const d = cmd.split(" ")[1];
        return runWhois(d);
    } else if (cmd.startsWith("ssl ")) {
        const d = cmd.split(" ")[1];
        return runSSL(d);
    } else if (cmd.startsWith("headers ")) {
        const d = cmd.split(" ")[1];
        return runHeaders(d);
    } else if (cmd.startsWith("asn ")) {
        const ip = cmd.split(" ")[1];
        return runASN(ip);
    } else if (cmd.startsWith("geolocate ")) {
        const ip = cmd.split(" ")[1];
        return runGeo(ip);
    } else if (cmd.startsWith("reverse-ip ")) {
        const ip = cmd.split(" ")[1];
        return runReverseIP(ip);
    } else if (cmd.startsWith("scan-ports ")) {
        const ip = cmd.split(" ")[1];
        return runSafePort(ip);
    } else if (cmd.startsWith("fingerprint ")) {
        const host = cmd.split(" ")[1];
        return runFingerprint(host);
    } else if (cmd.startsWith("md5 ")) {
        const hash = cmd.split(" ")[1];
        return runMD5(hash);
    } else if (cmd.startsWith("ocr ")) {
        const url = cmd.split(" ")[1];
        return runOCR(url);
    } else {
        await print("Perintah tidak dikenal.\n");
    }
    newLine();
}

/* ==========================================================
   SIMULASI / FAKE API FUNCTIONS
========================================================== */
async function runScan(domain) {
    await print(`[SCAN] ${domain}\n`);
    await print("Module XSS: OK\nModule SQLi: OK\nModule SSL: WARNING\nModule Headers: CRITICAL\n");
    newLine();
}
async function runDNS(domain) { await print(`DNS ${domain}: A=192.168.1.5 MX=mail.example.com\n`); newLine(); }
async function runWhois(domain) { await print(`WHOIS ${domain}: Registrar=Cloudflare Country=US\n`); newLine(); }
async function runSSL(domain) { await print(`SSL ${domain}: Issuer=Let's Encrypt Status=VALID\n`); newLine(); }
async function runHeaders(domain) { await print(`HEADERS ${domain}: X-Frame-Options=DENY Content-Security-Policy=missing\n`); newLine(); }
async function runASN(ip) { await print(`ASN Lookup ${ip}: ASN=AS15169 Holder=Google LLC\n`); newLine(); }
async function runGeo(ip) { await print(`GeoIP ${ip}: Country=US Region=California City=Mountain View\n`); newLine(); }
async function runReverseIP(ip) { await print(`Reverse IP ${ip}: example.com, example.net, example.org\n`); newLine(); }
async function runSafePort(ip) { await print(`Port Scan ${ip}: 80=open 443=open 22=closed 21=closed\n`); newLine(); }
async function runFingerprint(host) { await print(`TLS Fingerprint ${host}: SHA256=ABCDEF123456...\n`); newLine(); }
async function runMD5(hash) { await print(`MD5 Lookup ${hash}: Not found in safe DB\n`); newLine(); }
async function runOCR(url) { await print(`OCR Extractor ${url}: Sample extracted text\n`); newLine(); }

/* ==========================================================
   KEYBOARD INPUT FIX
========================================================== */
document.addEventListener("keydown", e => {
    const cursor = document.querySelector(".cursor");
    if(cursor) cursor.remove();

    if (e.key === "Enter") {
        terminal.innerHTML += "\n";
        commandProcessor(input);
        input = "";
    } else if (e.key === "Backspace") {
        if (input.length > 0) {
            input = input.slice(0, -1);
            terminal.innerHTML = terminal.innerHTML.slice(0, -1);
        }
    } else if (e.key.length === 1) {
        input += e.key;
        terminal.innerHTML += e.key;
        playSound();
    }
    createCursor();
    terminal.scrollTop = terminal.scrollHeight;
});

// Mobile touch input
terminal.addEventListener("click", () => {
    const inputEl = document.createElement("input");
    inputEl.style.position = "fixed";
    inputEl.style.opacity = "0";
    document.body.appendChild(inputEl);
    inputEl.focus();
    inputEl.addEventListener("input", e => {
        input += e.target.value;
        terminal.innerHTML += e.target.value;
        e.target.value = "";
        createCursor();
        terminal.scrollTop = terminal.scrollHeight;
    });
    inputEl.addEventListener("blur", () => document.body.removeChild(inputEl));
});

/* ==========================================================
   NEW TERMINAL BUTTON
========================================================== */
document.getElementById("newTerm").onclick = () => boot();

// Start terminal
boot();
</script>
</body>
</html>
